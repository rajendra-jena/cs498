<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CS 498 DV (wcwei2)</title>
    <link rel="stylesheet" type="text/css" href="lineChartFormat.css">  <!-- CSS stylesheet for assignment -->
    <script src="https://d3js.org/d3.v4.min.js"></script>				<!-- D3 library for assignment -->
    <script src="lineChart.js" charset="utf-8"></script>				<!-- JS D3 code for line chart -->
    <script src="scatterPlot.js" charset="utf-8"></script>				<!-- JS D3 code for scatterplot -->
</head>


<body>


<button class="collapsible"> About this Visualization </button>
<div class="content">
 Wang Chun Wei (wcwei2) <br />
 CS498 Data Visualization, Final Project, JS D3 Application <br />
 University of Illinois, Urbana-Champaign 
<br>

<h4>Hybrid Structure</h4>
            <p>
                The visualization uses the Interactive Slideshow structure. At the top of the page, there are 6 buttons
                numbered 1 through 6. By clicking through these buttons sequentially, users are guided through the
                slides.
                Upon navigation, parameters are changed and annotations are updated to describe the new view.
</p>

 <h4>Scene Utilization</h4>
            <p>
                This visualization utilizes slides to create scenes. The scenes have a very consistent layout. On the
                top
                of the left side are four parameter selectors. Below those selectors is a block of annotation text that
                provides insight into the data. On the right side is a line chart that displays the data that satisfies
                the parameters.
            </p>

            <h4>Annotations</h4>
            <p>
                Each slide contains a block of text annotating the view with insights into the data. This text provides
                some domain information to help the reader understand what they are seeing.
</p>
</div>





<!-- slide show container -->
<div class="slideshow_box">


	<!-- CHART 1 - LINE CHART OF CRYPTOCURRENCY APPRECIATION -->
  <div class="slides fade">
  	<h1> The Cryptocurrency Rally: Outpacing Traditional Assets </h1>
	2017 was a phenomenal year for cryptocurrencies. 
	Had you invested $1 in Bitcoin at the beginning of the year, you would have accumulated $xxx by the end of the year.
	Cryptocurrencies have outperformed Equities, Bonds, Commodities and Gold. <br>

	<div class="page_number">1 / 3</div>
	<div class="chart-wrapper" id="chart-line1">
	</div>
    <div class="footnote"> source: www.coinmarketcap.com </div>
  </div>


	<!-- CHART 2 - LINE CHART OF CRYPTOCURRENCY APPRECIATION -->
  <div class="slides fade">
  	 <h1> The Bubble: Systemic Appreciation of All Coins </h1>
	The 2017 Rally has been termed as a bubble. 
	Below we plot the market capitaloization 

    <div class="page_number">2 / 3</div>
	<div class="chart-wrapper" id="chart-line2">
	</div>
    <div class="footnote"> source: www.coinmarketcap.com </div>
  </div>


	<!-- CHART 3 - LINE CHART OF CRYPTOCURRENCY APPRECIATION -->
  <div class="slides fade">
  	 <h1>  Risk Return Characteristics </h1>
	We see a positive trend between risk and returns in the cryptocurrency universe throughout 2017.  This is especially true with the larger market capitalization coins.
	More generally we note that cryptocurrency risk is significantly higher than traditional asset classes. 
    <div class="page_number">3 / 3</div>
  	<div class="chart-wrapper" id="chart-line3">
	</div>
    <div class="footnote"> source: www.coinmarketcap.com </div>  

  </div>






  <!-- NEXT AND PREVIOUS ARROWS -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>

</div>
<br>

<!-- add dots and circles -->
<div style="text-align:center">
  <span class="dot" onclick="currentSlide(1)"></span>
  <span class="dot" onclick="currentSlide(2)"></span>
  <span class="dot" onclick="currentSlide(3)"></span>
</div>

<br>






<script type="text/javascript">

var slideIndex = 1;
showSlides(slideIndex);

// Next/previous controls
function plusSlides(n) {
  showSlides(slideIndex += n);
}

// Dot controls
function currentSlide(n) {
  showSlides(slideIndex = n);
}

// Toggle slide display and dots
function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("slides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" dot_active", "");
  }
  slides[slideIndex-1].style.display = "block";
  dots[slideIndex-1].className += " dot_active";
} 

// parse date
var parseTime = d3.timeParse("%d/%m/%Y");

// Chart 1 and 2; Line Charts
//https://github.com/weiwangchun/cs498/blob/master/rebased_prices.csv
    d3.csv('rebased_prices.csv')
    	.row(function(d){
		 	return {
		 		date:parseTime(d.Date), 
		 		bitcoin: +d.Bitcoin,
		 		litecoin: +d.Litecoin,
		 		ethereum: +d.Ethereum
		 	};
		})
		.get(function(error, data){

			//console.log(data); // check data

		    var chart = makeLineChart(data, 'date', {
		        'Bitcoin': {column: 'bitcoin'},
		        'Litecoin': {column: 'litecoin'},
		        'Ethereum': {column: 'ethereum'}
		    }, {xAxis: 'Date', yAxis: 'Amount'});
		    chart.bind("#chart-line1");
		    chart.render();

		    var chart2 = makeLineChart(data, 'date', {
		        'Bitcoin': {column: 'bitcoin'},
		        'Ethereum': {column: 'ethereum'}
		    }, {xAxis: 'Date', yAxis: 'Amount'});
		    chart2.bind("#chart-line2");
		    chart2.render();

		});


// Chart 3; Scatterplots
    d3.csv('crypto_descriptive_2017.csv')
    	.row(function(d){
		 	return {
		 		ticker: d.TICKER,
		 		name: d.NAME,
		 		return: +d.RETURN,
		 		risk: +d.RISK,
		 		mktcap: +d.MKTCAP,
		 		turnover: +d.TURNOVER_RATIO,
		 		volume: +d.VOLUME
		 	};
		})
		.get(function(error, data){

			console.log(data); // check data
			var chart3 = makeScatterplot(data, {xAxis: 'Risk', yAxis: 'Return'});
			chart3.bind("#chart-line3");
			chart3.render();


		});








// Collapsible About Section
var coll = document.getElementsByClassName("collapsible");
var i;

for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
            content.style.display = "none";
        } else {
            content.style.display = "block";
        }
    });
}



</script>


</body>


</html>